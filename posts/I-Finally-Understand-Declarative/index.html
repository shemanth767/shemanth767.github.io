<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="I finally understand Declarative Programming" /><meta property="og:locale" content="en" /><meta name="description" content="Background" /><meta property="og:description" content="Background" /><link rel="canonical" href="https://blog.saihemanth.com//posts/I-Finally-Understand-Declarative/" /><meta property="og:url" content="https://blog.saihemanth.com//posts/I-Finally-Understand-Declarative/" /><meta property="og:site_name" content="Sai Hemanth Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-01-29T09:00:00+05:30" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="I finally understand Declarative Programming" /><meta name="twitter:site" content="@saihemanth9019" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-02-13T11:31:09+05:30","datePublished":"2022-01-29T09:00:00+05:30","description":"Background","headline":"I finally understand Declarative Programming","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.saihemanth.com//posts/I-Finally-Understand-Declarative/"},"url":"https://blog.saihemanth.com//posts/I-Finally-Understand-Declarative/"}</script><title>I finally understand Declarative Programming | Sai Hemanth Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Sai Hemanth Blog"><meta name="application-name" content="Sai Hemanth Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/favicons/android-chrome-512x512.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Sai Hemanth Blog</a></div><div class="site-subtitle font-italic">A 9-5 SDE that occasionally writes on Software Development.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/shb9019" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/saihemanth9019" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sai_hemanth_b','protonmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>I finally understand Declarative Programming</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>I finally understand Declarative Programming</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/saihemanth9019">Sai Hemanth B</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2022-01-29 09:00:00 +0530" data-toggle="tooltip" data-placement="bottom" title="Sat, Jan 29, 2022, 9:00 AM +0530" >Jan 29</em> </span> <span> Updated <em class="timeago" date="2022-02-13 11:31:09 +0530 " data-toggle="tooltip" data-placement="bottom" title="Sun, Feb 13, 2022, 11:31 AM +0530" >Feb 13</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2266 words"> <em>12 min</em> read</span></div></div></div><div class="post-content"><h1 id="background">Background</h1><p>Discussions surrounding declarative and functional programming have been on the rise over the past few years. Out of curiosity, I started reading articles to understand how to reap the promised magical benefits. Just like how one doesn’t learn to swim by reading about it, I couldn’t understand the essence of declarative programming irrespective of how many YouTube videos I watched.</p><blockquote><p>In computer science, declarative programming is a programming paradigm — a style of building the structure and elements of computer programs — that expresses the logic of a computation without describing its control flow. — Wikipedia</p></blockquote><p>This definition abstractly made sense, but aren’t you supposed to define the control flow somewhere? Aren’t we supposed to iterate and update variables at someplace for the program to work? I was so caught in thinking of programs as blocks of explicit control flow that I simply couldn’t look outside of it.</p><p>Deciding I wanted to get knee-deep into this mysterious paradigm, I solved some problems in <a href="https://adventofcode.com/">Advent of Code</a> twice, once using an imperative language, and again using a declarative language. The first challenge was to choose appropriate languages for both these paradigms. Most popular languages are not of one type or the other. They are on a spectrum. (More on that in later sections)</p><p>C++ is my choice for imperative because it is the least declarative programming language I’ve used (No offense). I chose Haskell as the declarative language because I’ve wanted to learn the language for years. Technically, it’s a functional programming language, which is a type of declarative. By the way, <a href="http://learnyouahaskell.com/">“Learn you a Haskell for Great Good”</a> is an amazing source to learn Haskell.</p><p>As I finish this journey, I’ve documented my learnings in this article. I hope this becomes the article I wish I had found when I started.</p><h1 id="disclaimer">Disclaimer</h1><p>To emphasize the difference between these paradigms, I’ve only used rudimentary C++ in most examples. No STL, etc. The examples do not compare Haskell and C++ code, instead imperative and declarative programs. It is possible to write STL based succinct C++ code, but it doesn’t help understand the essence of imperative.</p><h1 id="lessons">Lessons</h1><h2 id="the-program-approaches-the-human-language-solution">The program approaches the human language solution<a href="#the-program-approaches-the-human-language-solution" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Consider the following task,</p><p><strong>Given a list of numbers, remove all numbers which are 0 and sort the remaining.</strong></p><p>For example, given [5, 0, 8, 0, 0, 2] the program should return [2, 5, 8]. Following is the solution in C++,</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">filterAndSort</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">result</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">arr</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="n">result</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="c1">// Bubble Sort</span>
    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">result</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">result</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="n">swap</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">result</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Create an empty vector called result. Iterate over every index (i) from 0 to n of the input array and check if the array element at index is not 0. If the element is non-zero, push the element to the end of result vector. Assign the size of the filtered vector to variable m. Iterate over each element in index (i) of result vector and over each index (j) starting from i+1 to end of array. If element at index i is greater than element at index j, swap the two elements in the result array. Return the final sorted result vector.</p><p>That’s a LOT of words for a problem whose solution can be explained to my rubber duck in one line. This is the solution in Haskell,</p><div class="language-haskell highlighter-rouge"><div class="code-header"> <span label-text="Haskell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">filterAndSort</span> <span class="o">=</span> <span class="n">sort</span> <span class="o">.</span> <span class="n">filter</span> <span class="p">(</span><span class="o">/=</span> <span class="mi">0</span><span class="p">)</span>
</pre></table></code></div></div><p>Even with no prior knowledge of Haskell syntax, one can see that the function does two things — filter and sort. This function reads as “filter a list by retaining all elements not equal to zero (/= 0) and sort the remaining list”. The task statement requires me to do two things, and the Haskell function does exactly two things.</p><p>This is the crux of Declarative Programming. The program should roughly be the human language explanation of the solution. It expresses what it does, instead of how to do it. Stuff like iteration and updating variables is implementation detail that should be hidden.</p><p>Modern C++ has functions that can help abstract away some of the clutter. However, there will still be implementation detail that does not belong to the problem statement.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">filterAndSort</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">result</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">item</span> <span class="o">:</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">item</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">result</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">result</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Building upon the earlier definition, one might say that declarative programming is simply about having a ton of utility functions. That’s only a part of it. Having a good number of utility functions definitely helps abstract away implementation detail. However, it goes even deeper. Let’s try to solve the following problem,</p><p><strong>Given two characters, return true if the first one is an opening bracket and the second one is the matching closing</strong> <strong>bracket. Return false, otherwise.</strong></p><p>Following is the solution in C++,</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kt">bool</span> <span class="nf">areMatching</span><span class="p">(</span><span class="kt">char</span> <span class="n">a</span><span class="p">,</span> <span class="kt">char</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="sc">'('</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">==</span> <span class="sc">')'</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="sc">'['</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">==</span> <span class="sc">']'</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="sc">'{'</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">==</span> <span class="sc">'}'</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="sc">'&lt;'</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">==</span> <span class="sc">'&gt;'</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>

    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>For a C++/Java programmer, this looks perfectly sensible and readable. Now, let’s see the Haskell solution,</p><div class="language-haskell highlighter-rouge"><div class="code-header"> <span label-text="Haskell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">areMatching</span> <span class="sc">'('</span> <span class="sc">')'</span> <span class="o">=</span> <span class="kt">True</span>
<span class="n">areMatching</span> <span class="sc">'['</span> <span class="sc">']'</span> <span class="o">=</span> <span class="kt">True</span>
<span class="n">areMatching</span> <span class="sc">'{'</span> <span class="sc">'}'</span> <span class="o">=</span> <span class="kt">True</span>
<span class="n">areMatching</span> <span class="sc">'&lt;'</span> <span class="sc">'&gt;'</span> <span class="o">=</span> <span class="kt">True</span>
<span class="n">areMatching</span> <span class="kr">_</span> <span class="kr">_</span>     <span class="o">=</span> <span class="kt">False</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">areMatching</code> is a function that takes two parameters. By virtue of pattern matching, we can create multiple definitions of the same function for different values of parameters. The final function definition is the fallback when none of the earlier ones match. This is the closest you can get to the problem statement.</p><p>Declarative programming is a race to make programs comprehensible even to non-programmers. Every other jargon you hear surrounding declarative programming are only means to achieve this goal.</p><h2 id="ability-to-express-logic-effortlessly">Ability to express logic effortlessly<a href="#ability-to-express-logic-effortlessly" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>To write programs declaratively, a language should allow users to compose and reuse elements fluently. The fundamental building block of Haskell is a function. It is simple to compose different functions into one — which makes for programs that require very little overhead beyond the problem domain.</p><div class="language-haskell highlighter-rouge"><div class="code-header"> <span label-text="Haskell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="c1">-- Returns the product of the largest three numbers in an unsorted list</span>
<span class="n">productLarge3</span> <span class="o">=</span> <span class="n">product</span> <span class="o">.</span> <span class="p">(</span><span class="n">take</span> <span class="mi">3</span><span class="p">)</span> <span class="o">.</span> <span class="n">reverse</span> <span class="o">.</span> <span class="n">sort</span>

<span class="c1">-- Returns all pairs of coordinates (0,0), (0,1) .. (0,n-1), (1,1) ... (n-1,n-1) given n</span>
<span class="c1">-- Similar to mathematical set comprehension.</span>
<span class="n">getAllCoordinates</span> <span class="n">n</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">|</span> <span class="n">x</span> <span class="o">&lt;-</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)],</span> <span class="n">y</span> <span class="o">&lt;-</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)]]</span>

<span class="c1">-- Example function invocations</span>
<span class="n">productLarge3</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">getAllCoordinates</span> <span class="mi">5</span>
</pre></table></code></div></div><p><em>Note: Haskell functions do not require parameters if they simply reuse other functions, like productLarge3 above.</em> <em>The syntax is beyond the scope of this post.</em></p><p>If you are unable to understand the syntax above, fret not. They are the same functions as the following in C++,</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="nf">productLarge3</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">arr</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
    <span class="n">reverse</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">arr</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
    <span class="k">auto</span> <span class="n">largest3Elements</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">arr</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span> <span class="o">+</span> <span class="mi">3</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">product</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">it</span> <span class="o">:</span> <span class="n">largest3Elements</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">product</span> <span class="o">*=</span> <span class="n">it</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">product</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">getAllCoordinates</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">coordinates</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">y</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">coordinates</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">});</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">coordinates</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>One of things that immediately strike me is how easy it is to compose functions together in Haskell. In Haskell’s <code class="language-plaintext highlighter-rouge">productLarge3</code> the operation of sorting and reversing an array is as simple as <code class="language-plaintext highlighter-rouge">reverse . sort</code>. In C++, there is the extra overhead of <code class="language-plaintext highlighter-rouge">.begin()</code> and <code class="language-plaintext highlighter-rouge">.end()</code> calls. Each statement in the imperative method corresponds to a single word in Declarative. We can go the extra mile and define a helper function for every action done in C++,</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">sortArray</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">arr</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
    <span class="k">return</span> <span class="n">arr</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">reverseArray</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">reverse</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">arr</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
    <span class="k">return</span> <span class="n">arr</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">take</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">arr</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span> <span class="o">+</span> <span class="n">n</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">product</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">product</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">it</span> <span class="o">:</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">product</span> <span class="o">*=</span> <span class="n">it</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">product</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">productLarge3</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">product</span><span class="p">(</span><span class="n">take</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">reverseArray</span><span class="p">(</span><span class="n">sortArray</span><span class="p">(</span><span class="n">arr</span><span class="p">))));</span>
<span class="p">}</span>
</pre></table></code></div></div><p>In this case, the C++ definition ends up being close to Haskell’s definition with a little more overhead. The burden of defining these methods lies with the programmer though.</p><p>Take the other example of <code class="language-plaintext highlighter-rouge">getAllCoordinates</code> . Haskell allows you to use <a href="https://www.mathsisfun.com/sets/set-builder-notation.html">set builder notation</a> to generate the result. In imperative, the only way to do this is by using loops. Note that even Haskell has to internally represent the function as loops. It is just syntactic sugar that helps programs look closer to the problem domain. This point might seem petty for many folks, but the benefits really add up over larger codebases.</p><h2 id="powerful-standard-libraries">Powerful standard libraries<a href="#powerful-standard-libraries" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Emphasizing the point again, some languages make writing declarative programs easier. One important requirement for this is to have a great set of standard library utilities that make it easier to work with the problem domain. Haskell has a gigantic set of standard libraries, which have its own <a href="https://hoogle.haskell.org/">search engine</a> to find the function you want. Having a great standard library alone does not solve the problem, take Java for instance. It has an amazing standard library but does not allow you to compose logic elements as easily as Haskell does. Streams API is the right step towards declarative, but it is still declarative code in a largely imperative world.</p><h2 id="define-the-problem-domain">Define the problem domain<a href="#define-the-problem-domain" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>A language needs to only solve effortlessly in its intended problem domain. Haskell is a general programming language, so it works great on primitive data types, arrays, maps, and other standard data structures. If we try to solve for a different domain using Haskell, say compilers (with data types like symbol tables, abstract syntax trees, etc), we have to define the required functions and classes (or the loose Haskell equivalent of ADTs) to make the code expressive.</p><blockquote><p>The most popular functional programming language in the world is Excel.</p><p>— Someone at Microsoft.</p></blockquote><p>Unbeknownst to most, SQL and Excel are declarative programming languages. Think about it, the following SQL statement</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">select</span> <span class="n">name</span> <span class="k">from</span> <span class="n">employee</span> <span class="k">where</span> <span class="n">hire_date</span> <span class="o">&gt;</span> <span class="s1">'2021/01/01'</span>
</pre></table></code></div></div><p>is similar to this Java statement,</p><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1">// Does not compile, only for representative purposes</span>
<span class="n">employees</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
<span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">employee</span> <span class="o">-&gt;</span> <span class="n">employee</span><span class="o">.</span><span class="na">getHireDate</span><span class="o">().</span><span class="na">isAfter</span><span class="o">(</span><span class="s">"2021/01/01"</span><span class="o">))</span>
<span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">.</span><span class="na">getName</span><span class="o">())</span>
<span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">())</span>
</pre></table></code></div></div><p>The advantage of SQL is that it is specialized to the domain of querying over tables. It is not very useful or maintainable to perform anything outside its domain of tables (e.g., handling JSON data). SQL queries express logic in syntax matching the human language solution, which for this example is “Get all names of employees who were hired after 1st Jan, 2021.”</p><h2 id="a-pleasant-consequence--pure-functions">A Pleasant Consequence — Pure Functions!<a href="#a-pleasant-consequence--pure-functions" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>A function is pure if,</p><ol><li>It always returns the same output for a given set of input parameters. This is possible when the function’s result depends only on its input parameters and constants.<li>It has no side effects i.e., the function does not modify the input parameters, or any variables outside of itself.</ol><p>When sticking to the definition of Declarative Programming, this is pretty obvious. We never intend to compute different values for the same input at different points of time when defining a solution. Unless explicitly specified in the problem, we never expect the solution to modify the state of anything outside of the function itself. Some deviations are when the problem requires us to update a file or read dynamically from a file.</p><p>All real world solutions are mostly pure, and programs should ideally reflect this if they intend to be declarative. This also improves the reliability of programs, you can always be sure the function will return the same result for identical inputs.</p><p><img data-src="https://imgs.xkcd.com/comics/haskell.png" alt="A program that is never run will not have any side effects" data-proofer-ignore> <em>Obligatory xkcd: <a href="https://xkcd.com/1312/">https://xkcd.com/1312/</a></em></p><p><strong>Note:</strong> <em>One perceived distinction is random numbers. Programs that depend on random numbers are expected to return</em> <em>different values on every run. However, computers cannot generate truly random numbers, only pseudo-random numbers.</em> <em>These random number generators also take inputs such as system time. As long as even these inputs are constant (which</em> <em>is infinitely improbable), the output will be the same.</em></p><h1 id="conclusion">Conclusion</h1><blockquote><p>“Representation is the essence of programming.” — Fred Brooks</p></blockquote><p>Declarative Programming is writing code along the lines of the human language definition of the solution. It has more to do with how we write programs than which language we are using. It is possible to write imperative code in declarative languages and vice-versa. Although some languages make it much easier to write programs declaratively, you can always strive to write declarative programs in every language.</p><p>This post is not trying to say that writing imperative code is wrong. Imperative programming shines when you need full control for performance-reliant programs. For the rest of the population, expressing your programs declaratively is something to consider.</p><p>✨ Follow me on <a href="https://twitter.com/saihemanth9019">Twitter</a> to read more of my tech explorations :)</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=I finally understand Declarative Programming - Sai Hemanth Blog&url=https://blog.saihemanth.com//posts/I-Finally-Understand-Declarative/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=I finally understand Declarative Programming - Sai Hemanth Blog&u=https://blog.saihemanth.com//posts/I-Finally-Understand-Declarative/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=I finally understand Declarative Programming - Sai Hemanth Blog&url=https://blog.saihemanth.com//posts/I-Finally-Understand-Declarative/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Replacing-Google-Drive-1/">Replacing Google Drive with NextCloud - Part 1</a><li><a href="/posts/Tic-Tac-Toe-Blockchain-1/">Playing Tic-Tac-Toe as the world watches — An introduction to BlockChain and State Channels (Part 1)</a><li><a href="/posts/TIc-Tac-Toe-Blockchain-2/">Playing Tic-Tac-Toe as the world watches — An introduction to BlockChain and State Channels (Part 2)</a><li><a href="/posts/Control-Your-NPM-Dependencies/">Control your npm dependencies</a><li><a href="/posts/I-Finally-Understand-Declarative/">I finally understand Declarative Programming</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Building-PC-1/"><div class="card-body"> <em class="timeago small" date="2022-04-01 09:00:00 +0530" >Apr 1</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Building a Home Server - Part 1</h3><div class="text-muted small"><p> Objectives As a privacy nut, I’m not comfortable storing GBs of photos, videos, and documents on OneDrive and Google Drive. My most personal memories locked away in some heartless data warehouse, ...</p></div></div></a></div><div class="card"> <a href="/posts/Replacing-Google-Drive-2/"><div class="card-body"> <em class="timeago small" date="2022-09-18 10:00:00 +0530" >Sep 18</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Replacing Google Drive with NextCloud - Part 2</h3><div class="text-muted small"><p> Overview I’ve finally settled on a framework that works for me reliably. It has a lot of moving parts, but AWS made it so simple to manage and synchronize them. Description EC2 Instance EC2 I...</p></div></div></a></div><div class="card"> <a href="/posts/Replacing-Google-Drive-1/"><div class="card-body"> <em class="timeago small" date="2022-07-31 19:00:00 +0530" >Jul 31</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Replacing Google Drive with NextCloud - Part 1</h3><div class="text-muted small"><p> Overview This article summarizes my descent into insanity and the following events that transpired on 30th July 2022. More formally, as I had mentioned in my previous blog post, I was looking to r...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Control-Your-NPM-Dependencies/" class="btn btn-outline-primary" prompt="Older"><p>Control your npm dependencies</p></a> <a href="/posts/Building-PC-1/" class="btn btn-outline-primary" prompt="Newer"><p>Building a Home Server - Part 1</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/saihemanth9019">Sai Hemanth B</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-0V97Y1YV7M"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-0V97Y1YV7M'); }); </script>
